# API Reference

This document provides detailed information about all available methods and properties in the Currency.js library.

## Library Exports

The `@eriveltonsilva/currency.js` library offers several exports for use in your project:

```javascript
// Default import - Money function
import Money from '@eriveltonsilva/currency.js';

// Named imports
import {
  Money,          // Money function (alternative to default import)
  Calculator,     // Calculator API for complex operations
  Currency,       // Pre-configured currencies (USD, EUR, BRL)
  ROUNDING_MODES  // Constants for rounding modes
} from '@eriveltonsilva/currency.js';

// Type imports (for TypeScript)
import type {
  FormatOptions,  // Formatting options
  MoneyInput,     // Input types accepted by the Money function
  RoundingModes   // Types of rounding modes
} from '@eriveltonsilva/currency.js';
```

## Creating Money Instances

```javascript
// Basic usage
const a = Money(10.50);       // From number
const b = Money("10.50");     // From string
const c = Money("10,50");     // From string with comma (Brazilian format)
const d = Money("$10.50");    // From string with currency symbol
const e = Money("R$ 10,50");  // From string with currency symbol (Brazilian format)
const f = Money(a);           // From another Money instance

// With options
const g = Money(10.50, {
  currencyCode: 'BRL',
  locale: 'pt-BR'
  showSymbol: true,
}); // R$ 10,50

// Configure with defaults
const BRL = Money.configure({ currencyCode: 'BRL' });
const price = BRL(25.50);  // R$ 25,50

// Predefined currencies
import { Currency } from '@eriveltonsilva/currency.js';

const usd = Currency.USD(99.99);  // $99.99
const eur = Currency.EUR(99.99);  // 99.99 €
const brl = Currency.BRL(99.99);  // R$ 99,99
```

## Properties

```javascript
const money = Money(10.5)

money.cents          // 1050 (value in cents)
money.value          // 10.5 (decimal value)
money.integer        // 10 (integer part)
money.decimal        // 0.5 (decimal part)
money.formatOptions  // { currencyCode: 'USD', locale: 'en-US', showSymbol: true }
money.isZero         // false
money.isPositive     // true
money.isNegative     // false
```

## Formatting

```javascript
const price = Money(1234.56)

// Basic formatting
price.format() // Default: $1,234.56 (depends on environment)

// Custom formatting
price.format({
  currencyCode: 'EUR',
  locale: 'fr-FR',
  showSymbol: true,
  minimumFractionDigits: 2,
  maximumFractionDigits: 2,
}) // 1 234,56 €

// String representation
price.toString() // "1234.56"
```

## Comparison Methods

```javascript
const price1 = Money(100)
const price2 = Money(200)

price1.equals(100)              // true
price1.greaterThan(50)          // true
price1.lessThan(price2)         // true
price1.greaterThanOrEqual(100)  // true
price1.lessThanOrEqual(price2)  // true
price1.isBetween(50, 150)       // true
```

## Arithmetic Operations

```javascript
const price = Money(100)

// All operations return new Money instances (immutable)

const sum = price.plus(50)          // 150
const difference = price.minus(25)  // 75
const doubled = price.times(2)      // 200
const half = price.dividedBy(2)     // 50

// Chaining operations
const result = price.plus(50).times(2).minus(25) // 275
```

## Transformation Methods

```javascript
const price = Money(-10.56)

const absolute = price.absolute()    // 10.56
const negative = Money(50).negate()  // -50
const maximum = price.max(Money(15)) // 15
const minimum = price.min(Money(5))  // -10.56
const rounded = price.round(10)      // -10.6 (rounded to 1 decimal place)
```

## Business Operations

```javascript
const price = Money(100)

// Percentage-based operations
const tenPercent = price.percentage(10)    // 10
const discounted = price.applyDiscount(20) // 80 (20% off)
const increased = price.applySurcharge(15) // 115 (15% added)

// Distribution
const parts = price.allocate(3) // [Money(33.34), Money(33.33), Money(33.33)]
```

## Rounding Methods

The library supports different rounding modes:

```javascript
import { Money, ROUNDING_MODES } from '@eriveltonsilva/currency.js'

const price = Money(10.56)

price.round(10, ROUNDING_MODES.ROUND) // 10.6 (standard rounding)
price.round(10, ROUNDING_MODES.FLOOR) // 10.5 (round down)
price.round(10, ROUNDING_MODES.CEIL)  // 10.6 (round up)
price.round(10, ROUNDING_MODES.TRUNC) // 10.5 (truncate)
```

## Calculator API

For more complex operations, you can use the Calculator API:

```javascript
import { Calculator } from '@eriveltonsilva/currency.js'

// Configure calculator
Calculator.configure({
  currencyCode: 'USD',
  showSymbol: true,
})

// Basic operations
const sum = Calculator.addition(10.5, 5.25)        // $15.75
const diff = Calculator.subtraction(10.5, 5.25)    // $5.25
const product = Calculator.multiplication(10.5, 3) // $31.50
const quotient = Calculator.division(10.5, 2)      // $5.25
const percentage = Calculator.percentage(100, 15)  // $15.00

// Business operations
const installments = Calculator.distributeInstallments(100, 3) // [33.34, 33.33, 33.33]

// Shopping cart calculations
const items = [
  { name: 'Product 1', price: 10.5, quantity: 2 },
  { name: 'Product 2', price: 15.75, quantity: 1 },
  { name: 'Product 3', price: 20.0, quantity: 3 },
]

const subtotal = Calculator.calculateSubtotal(items[0]) // $21.00 (10.50 × 2)
const total = Calculator.calculateTotal(items)          // $97.75
const average = Calculator.calculateAveragePrice(items) // $15.42
```
